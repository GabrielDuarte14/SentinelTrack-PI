<!DOCTYPE html>
<html lang="pt-br">
<style>
  #bolinha {
    height: 20px;
    width: 20px;
    background-color: red;
    cursor: pointer;
    border-radius: 100%;
  }
</style>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  <link rel="shortcut icon" href="./assets/icon/Logo_Temporaria.png" />
  <link rel="stylesheet" href="estilo.css" />
  <script src="./js/funcoes.js"></script>
  <script src="./js/login.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body onload="validarSessao()">
  <div class="dash">

    <div class="fold">
      <div class="titulo_nav">
        <img src="assets/icon/Logo_Temporaria.png" height="50px" />
        <h3 class="texts">Dashboard</h3>
      </div>
      <div class="usuario_nav">
        <span class="texts" id="b_usuario"></span>
      </div>
      <div class="botoes_nav">
        <button class="botao" id="btnHora" onclick="mostrarHora()">
          Hora
        </button>
        <button class="botao" id="btnDiario" onclick="mostrarDiario()">
          Diário
        </button>
        <button class="botao" id="btnSemanal" onclick="mostrarSemanal()">
          Semanal
        </button>
        <button class="botao" id="btnMensal" onclick="mostrarMensal()">
          Mensal
        </button>
        <button class="botao" id="btnAnual" onclick="mostrarAnual()">
          Anual
        </button>
      </div>

      <div class="chamado_nav">
        <button id="btnChamado" onclick="chamar()">Chamado</button>
      </div>

      <div class="opcoes_nav">
        <a href="usuario.html">Configurações</a>
        <a class="sair" onclick="sair()">Sair</a>
      </div>
    </div>

    <div class="chamado" id="chamado">
      <div class="centro">
        <iframe class="frame" src="https://app.pipefy.com/public/form/mWVzTe7P" frameborder="0"></iframe>
      </div>
    </div>

    <div id="chartmg" class="fotochart"><img src="imagens/barra.gif" /></div>
    <div class="grafico" id="grafico">
      <h2 style="color: aliceblue">Movimentação de pessoas</h2>
      <div class="kpis">
        <div class="kpi" style="border-color: #00af54">
          <span class="nmr" id="nmrMes">125M</span>
          <span class="title">Último mês</span>
          <span style="color: #00af54" class="title">Boa</span>
        </div>
        <div class="kpi">
          <span class="nmr" id="nmrSem">19M</span>
          <span class="title">Última semana</span>
          <span style="color: #d7263d" class="title">Altíssima</span>
        </div>
        <div class="kpi" style="border-color: #9ac1e8">
          <span class="nmr" id="nmrDia">120K</span>
          <span class="title">Último dia</span>
          <span style="color: #9ac1e8" class="title">Baixíssima</span>
        </div>
      </div>
      <div class="escolheGrafico">
        <button class="botao" id="convencional" onclick="mapaConvencional()">
          Convencional
        </button>
        <button class="botao" id="calor" onclick="mapaCalor()">
          Mapa de Calor
        </button>
      </div>
      <div class="chart" id="diario" style="display: none">
        <canvas id="dia"></canvas>
      </div>
      <div class="chart" id="semanal" style="display: none">
        <canvas id="semana"></canvas>
      </div>
      <div class="chart" id="mensal" style="display: none">
        <canvas id="mes"></canvas>
      </div>
      <div class="chart" id="anual" style="display: none">
        <canvas id="ano"></canvas>
      </div>
      <div class="chart" id="horario" style="display: none">
        <canvas id="hora"></canvas>
      </div>
      <div id="calorDiario" style="
            display: none;
            position: relative;
            top: 0px;
            left: 0px;
            height: 400px;
            width: 792px;
            margin-bottom: 50px;
          ">
        <img src="imagens/mapa.png" style="width: 100%; height: 100%" border="0" />

        <div style="position: absolute; top: 158px; left: 100px" id="bolinha1"></div>
        <div style="position: absolute; top: 140px; left: 190px" id="bolinha2"></div>
        <div style="position: absolute; top: 277px; left: 290px" id="bolinha3"></div>
        <div style="position: absolute; top: 237px; left: 220px" id="bolinha4"></div>
        <div style="position: absolute; top: 305px; left: 230px" id="bolinha5"></div>
        <div style="position: absolute; top: 310px; left: 390px" id="bolinha6"></div>
        <div style="position: absolute; top: 310px; left: 450px" id="bolinha7"></div>
        <div style="position: absolute; top: 310px; left: 560px" id="bolinha8"></div>
        <div style="position: absolute; top: 95px; left: 360px" id="bolinha9"></div>
        <div style="position: absolute; top: 180px; left: 660px" id="bolinha10"></div>
        <div style="position: absolute; top: 265px; left: 670px" id="bolinha11"></div>
        <div style="position: absolute; top: 275px; left: 420px" id="bolinha12"></div>
        <div style="position: absolute; top: 200px; left: 420px" id="bolinha13"></div>
        <div style="position: absolute; top: 228px; left: 390px" id="bolinha14"></div>
        <div style="position: absolute; top: 140px; left: 490px" id="bolinha15"></div>
        <div style="position: absolute; top: 143px; left: 600px" id="bolinha16"></div>
        <div style="position: absolute; top: 170px; left: 390px" id="bolinha17"></div>
      </div>
    </div>
  </div>
</body>

</html>
<script>
  var dados = JSON.parse(sessionStorage.USUARIO);

  var fkEmpresa = dados.fkEmpresa;
  window.onload = obterDadosHora(fkEmpresa), obterDadosDia(fkEmpresa), validarSessao2(), obterDadosKPI(fkEmpresa), setTimeout(carregamento, 3000);

  function carregamento() {

    if (chartmg.style.display == '') {

      chartmg.style.display = 'none';
      mostrarHora();
    }
  }

  function obterDadosHora(id) {
    fetch(`/medidas/ultimas/${id}`, { cache: "no-store" })
      .then(function (response) {
        if (response.ok) {
          response
            .json()
            .then(function (resposta) {
              console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
              resposta.reverse();

              plotarGraficoHora(resposta, id);
            })
            .catch(function (error) {
              console.error(`Erro na obtenção dos dados: ${error.message}`);
              alert("não existem dados");
            });
        } else {
          console.error("Nenhum dado encontrado ou erro na API");
        }
      })
      .catch(function (error) {
        console.error(
          `Erro na obtenção dos dados p/ gráfico: ${error.message}`
        );
      });
  }

  function obterDadosDia(id) {

    fetch(`/medidas/ultimas/${id}`, { cache: "no-store" })
      .then(function (response) {
        if (response.ok) {
          response
            .json()
            .then(function (resposta) {
              console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);

              plotarGraficoDiario(resposta, id);
            })
            .catch(function (error) {
              console.error(`Erro na obtenção dos dados: ${error.message}`);
              alert("não existem dados");
            });
        } else {
          console.error("Nenhum dado encontrado ou erro na API");
        }
      })
      .catch(function (error) {
        console.error(
          `Erro na obtenção dos dados p/ gráfico: ${error.message}`
        );
      });
  }

  function obterDadosKPI(id) {

    fetch(`/medidas/kpiMes/${id}`, { cache: "no-store" })
      .then(function (response) {
        if (response.ok) {
          response
            .json()
            .then(function (resposta) {
              console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
              resposta.reverse();
              console.log(resposta[0].mov)
              nmrMes.innerHTML = resposta[0].mov;

            })
            .catch(function (error) {
              console.error(`Erro na obtenção dos dados: ${error.message}`);
              alert("não existem dados");
            });
        } else {
          console.error("Nenhum dado encontrado ou erro na API");
        }
      })
      .catch(function (error) {
        console.error(
          `Erro na obtenção dos dados p/ gráfico: ${error.message}`
        );
      });

    fetch(`/medidas/kpiDia/${id}`, { cache: "no-store" })
      .then(function (response) {
        if (response.ok) {
          response
            .json()
            .then(function (resposta) {
              console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
              resposta.reverse();
              console.log(resposta[0].mov)
              nmrDia.innerHTML = resposta[0].mov;

            })
            .catch(function (error) {
              console.error(`Erro na obtenção dos dados: ${error.message}`);
              alert("não existem dados");
            });
        } else {
          console.error("Nenhum dado encontrado ou erro na API");
        }
      })
      .catch(function (error) {
        console.error(
          `Erro na obtenção dos dados p/ gráfico: ${error.message}`
        );
      });

    fetch(`/medidas/kpiSem/${id}`, { cache: "no-store" })
      .then(function (response) {
        if (response.ok) {
          response
            .json()
            .then(function (resposta) {
              console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
              resposta.reverse();
              console.log(resposta[0].mov)
              nmrSem.innerHTML = resposta[0].mov;

            })
            .catch(function (error) {
              console.error(`Erro na obtenção dos dados: ${error.message}`);
              alert("não existem dados");
            });
        } else {
          console.error("Nenhum dado encontrado ou erro na API");
        }
      })
      .catch(function (error) {
        console.error(
          `Erro na obtenção dos dados p/ gráfico: ${error.message}`
        );
      });

  }

  function plotarGraficoHora(resposta, id) {
    const hora = [];
    const dados = [];

    for (i = 0; i < resposta.length; i++) {
      var registro = resposta[i];
      hora.push(registro.hora + "h");
      dados.push(registro.mov);
    }

    //colocar data atual numa variavel
    var data = new Date();
    var dia = data.getDate();
    var mes = data.getMonth() + 1;
    var ano = data.getFullYear();

    mes = (mes < 10) ? "0" + mes : mes;
    dia = (dia < 10) ? "0" + dia : dia;

    const fluxoHora = {
      labels: hora,
      datasets: [
        {
          label: "Quantidade de pessoas por hora - " + dia + "/" + mes + "/" + ano,
          backgroundColor: "rgb(215, 38, 61)",
          borderColor: "rgb(215, 38, 61)",
          data: dados,
        },
      ],
    };

    const config4 = {
      type: "bar",
      data: fluxoHora,
      options: {},
    };


    console.log(JSON.stringify(dados));

    const c_hora = new Chart(document.getElementById("hora"), config4);
    //setTimeout(() => atualizarGrafico(idAquario, dados), 2000);
  }


  function plotarGraficoDiario(resposta, id) {
    const dias = [];
    const dados = [];

    //colocar data atual numa variavel
    var data = new Date();
    var dia = data.getDate();
    var mes = data.getMonth() + 1;
    var ano = data.getFullYear();

    mes = (mes < 10) ? "0" + mes : mes;
    dia = (dia < 10) ? "0" + dia : dia;

    for (i = 0; i < resposta.length; i++) {
      var registro = resposta[i];
      dias.push(registro.dia + "\n" + dia + "/" + mes);
      dados.push(registro.mov);
    }

    console.log(dias);

    const fluxoHora = {
      labels: hora,
      datasets: [
        {
          label: "Quantidade de pessoas por hora - " + dia + "/" + mes + "/" + ano,
          backgroundColor: "rgb(215, 38, 61)",
          borderColor: "rgb(215, 38, 61)",
          data: dados,
        },
      ],
    };

    const config4 = {
      type: "bar",
      data: fluxoHora,
      options: {},
    };


    console.log(JSON.stringify(dados));

    const c_hora = new Chart(document.getElementById("hora"), config4);
    //setTimeout(() => atualizarGrafico(idAquario, dados), 2000);
  }

  const dia = [
    "Segunda",
    "Terça",
    "Quarta",
    "Quinta",
    "Sexta",
    "Sábado",
    "Domingo",
  ];

  const fluxo = {
    labels: dia,
    datasets: [
      {
        label: "Quantidade de pessoas no dia",
        backgroundColor: "rgb(215, 38, 61)",
        borderColor: "rgb(215, 38, 61)",
        data: [460000, 400000, 500000, 500000, 900000, 1200000, 1000000],
      },
    ],
  };

  const config = {
    type: "bar",
    data: fluxo,
    options: {},
  };

  const semana = [
    "1º Semana",
    "2º Semana",
    "3º Semana",
    "4º Semana",
    "5º Semana",
    "6º Semana",
    "7º Semana",
  ];

  const qtdPessoas = {
    labels: semana,
    datasets: [
      {
        label: "Quantidade de pessoas na semana",
        backgroundColor: "rgb(215, 38, 61)",
        borderColor: "rgb(215, 38, 61)",
        data: [5960000, 6620000, 6650000, 7110000, 7020000, 7300000, 7200000],
      },
    ],
  };

  const config2 = {
    type: "line",
    data: qtdPessoas,
    options: {},
  };

  const mes = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio"];

  const fluxoMensal = {
    labels: mes,
    datasets: [
      {
        label: "Quantidade de pessoas no Mes",
        backgroundColor: "rgb(215, 38, 61)",
        borderColor: "rgb(215, 38, 61)",
        data: [534960000, 663420000, 663450000, 553210007, 99430001],
      },
    ],
  };

  const config5 = {
    type: "bar",
    data: fluxoMensal,
    options: {},
  };

  const ano = ["2018", "2019", "2020", "2021", "2022"];

  const fluxoAnual = {
    labels: ano,
    datasets: [
      {
        label: "Quantidade de pessoas no ano",
        backgroundColor: "rgb(215, 38, 61)",
        borderColor: "rgb(215, 38, 61)",
        data: [2600000000, 2500000000, 101000000, 1500000000, 2200000000],
      },
    ],
  };

  const config3 = {
    type: "line",
    data: fluxoAnual,
    options: {},
  };

  const c_diario = new Chart(document.getElementById("dia"), config);

  const c_semanal = new Chart(document.getElementById("semana"), config2);

  const c_mensal = new Chart(document.getElementById("mes"), config5);

  const c_anual = new Chart(document.getElementById("ano"), config3);
</script>

<script>
  var tipoGrafico = "";

  function mostrarSemanal() {
    diario.style.display = "none";
    grafico.style.display = "flex";
    anual.style.display = "none";
    mensal.style.display = "none";
    semanal.style.display = "block";
    horario.style.display = "none";
    chartmg.style.display = "none";
    calorDiario.style.display = "none";
    tipoGrafico = "semanal";

    btnSemanal.style.borderBottom = "solid 3px #D71B22";
    btnSemanal.style.fontWeight = "bold";
    btnSemanal.style.backgroundColor = "#023f79";

    btnDiario.style.borderBottom = "none";
    btnDiario.style.fontWeight = "normal";
    btnDiario.style.backgroundColor = "transparent";

    btnMensal.style.borderBottom = "none";
    btnMensal.style.fontWeight = "normal";
    btnMensal.style.backgroundColor = "transparent";

    btnAnual.style.borderBottom = "none";
    btnAnual.style.fontWeight = "normal";
    btnAnual.style.backgroundColor = "transparent";

    btnHora.style.borderBottom = "none";
    btnHora.style.fontWeight = "normal";
    btnHora.style.backgroundColor = "transparent";

    calor.style.display = "block";
    convencional.style.display = "block";

    chamado.style.display = "none";

    btnChamado.style.borderBottom = "none";
    btnChamado.style.fontWeight = "normal";
    btnChamado.style.backgroundColor = "transparent";
  }

  function mostrarDiario() {
    semanal.style.display = "none";
    grafico.style.display = "flex";
    anual.style.display = "none";
    mensal.style.display = "none";
    diario.style.display = "block";
    horario.style.display = "none";
    chartmg.style.display = "none";
    tipoGrafico = "diario";

    btnDiario.style.borderBottom = "solid 3px #D71B22";
    btnDiario.style.fontWeight = "bold";
    calorDiario.style.display = "none";
    btnDiario.style.backgroundColor = "#023f79";

    btnSemanal.style.borderBottom = "none";
    btnSemanal.style.fontWeight = "normal";
    btnSemanal.style.backgroundColor = "transparent";

    btnMensal.style.borderBottom = "none";
    btnMensal.style.fontWeight = "normal";
    btnMensal.style.backgroundColor = "transparent";

    btnAnual.style.borderBottom = "none";
    btnAnual.style.fontWeight = "normal";
    btnAnual.style.backgroundColor = "transparent";

    btnHora.style.borderBottom = "none";
    btnHora.style.fontWeight = "normal";
    btnHora.style.backgroundColor = "transparent";

    calor.style.display = "block";
    convencional.style.display = "block";

    chamado.style.display = "none";

    btnChamado.style.borderBottom = "none";
    btnChamado.style.fontWeight = "normal";
    btnChamado.style.backgroundColor = "transparent";
  }

  function mostrarMensal() {
    semanal.style.display = "none";
    grafico.style.display = "flex";
    mensal.style.display = "block";
    anual.style.display = "none";
    diario.style.display = "none";
    horario.style.display = "none";
    chartmg.style.display = "none";
    tipoGrafico = "mensal";

    btnDiario.style.borderBottom = "none";
    btnDiario.style.fontWeight = "none";
    btnDiario.style.backgroundColor = "transparent";
    calorDiario.style.display = "none";

    btnSemanal.style.borderBottom = "none";
    btnSemanal.style.fontWeight = "normal";
    btnSemanal.style.backgroundColor = "transparent";

    btnMensal.style.borderBottom = "solid 3px #D71B22";
    btnMensal.style.fontWeight = "bold";
    btnMensal.style.backgroundColor = "#023f79";

    btnAnual.style.borderBottom = "none";
    btnAnual.style.fontWeight = "normal";
    btnAnual.style.backgroundColor = "transparent";

    btnHora.style.borderBottom = "none";
    btnHora.style.fontWeight = "normal";
    btnHora.style.backgroundColor = "transparent";

    calor.style.display = "block";
    convencional.style.display = "block";

    chamado.style.display = "none";

    btnChamado.style.borderBottom = "none";
    btnChamado.style.fontWeight = "normal";
    btnChamado.style.backgroundColor = "transparent";
  }

  function mostrarAnual() {
    semanal.style.display = "none";
    grafico.style.display = "flex";
    diario.style.display = "none";
    mensal.style.display = "none";
    anual.style.display = "block";
    horario.style.display = "none";
    chartmg.style.display = "none";
    tipoGrafico = "anual";

    btnAnual.style.borderBottom = "solid 3px #D71B22";
    btnAnual.style.fontWeight = "bold";
    btnAnual.style.backgroundColor = "#023f79";
    calorDiario.style.display = "none";

    btnSemanal.style.borderBottom = "none";
    btnSemanal.style.fontWeight = "normal";
    btnSemanal.style.backgroundColor = "transparent";

    btnMensal.style.borderBottom = "none";
    btnMensal.style.fontWeight = "normal";
    btnMensal.style.backgroundColor = "transparent";

    btnDiario.style.borderBottom = "none";
    btnDiario.style.fontWeight = "normal";
    btnDiario.style.backgroundColor = "transparent";

    btnHora.style.borderBottom = "none";
    btnHora.style.fontWeight = "normal";
    btnHora.style.backgroundColor = "transparent";

    calor.style.display = "block";
    convencional.style.display = "block";

    chamado.style.display = "none";

    btnChamado.style.borderBottom = "none";
    btnChamado.style.fontWeight = "normal";
    btnChamado.style.backgroundColor = "transparent";
  }

  function mostrarHora() {
    semanal.style.display = "none";
    grafico.style.display = "flex";
    diario.style.display = "none";
    mensal.style.display = "none";
    anual.style.display = "none";
    horario.style.display = "block";
    chartmg.style.display = "none";
    tipoGrafico = "horario";

    btnAnual.style.borderBottom = "none";
    btnAnual.style.fontWeight = "normal";
    btnAnual.style.backgroundColor = "transparent";
    calorDiario.style.display = "none";

    btnSemanal.style.borderBottom = "none";
    btnSemanal.style.fontWeight = "normal";
    btnSemanal.style.backgroundColor = "transparent";

    btnMensal.style.borderBottom = "none";
    btnMensal.style.fontWeight = "normal";
    btnMensal.style.backgroundColor = "transparent";

    btnDiario.style.borderBottom = "none";
    btnDiario.style.fontWeight = "normal";
    btnDiario.style.backgroundColor = "transparent";

    btnHora.style.borderBottom = "solid 3px #D71B22";
    btnHora.style.fontWeight = "bold";
    btnHora.style.backgroundColor = "#023f79";

    calor.style.display = "block";
    convencional.style.display = "block";

    chamado.style.display = "none";

    btnChamado.style.borderBottom = "none";
    btnChamado.style.fontWeight = "normal";
    btnChamado.style.backgroundColor = "transparent";
  }

  function mapaConvencional() {
    if (tipoGrafico == "semanal") {
      mostrarSemanal();
    } else if (tipoGrafico == "diario") {
      mostrarDiario();
    } else if (tipoGrafico == "anual") {
      mostrarAnual();
    } else if (tipoGrafico == "mensal") {
      mostrarMensal();
    }

    else {
      mostrarHora();
    }
  }

  function mapaCalor() {
    if (tipoGrafico == "semanal") {
      calorDiario.style.display = "block";
      semanal.style.display = "none";

      //metricas
      var minimo = 6000000;
      var quartil1 = 6650000;
      var media = 9871000;
      var mediana = 9470000;
      var quartil3 = 11000000;
      var maximo = 19290000;

      for (var i = 1; i <= 17; i++) {
        var numero = Math.floor(Math.random() * (maximo - minimo + 1)) + minimo; //numero aleatorio - não decimal

        var idBola = "bolinha" + i;
        var bola = document.getElementById(idBola);
        if (numero < quartil1) {
          //bola azul #9AC1E8
          bola.style.background =
            "radial-gradient( #9AC1E8 35%,  #FFFE00 80%, #91D150  40%)";
        } else if (numero < media) {
          //bola amarela #FFFE00
          bola.style.background =
            "radial-gradient( #FFFE00 25%, #91D150 70%, #FFFE00 40%)";
        } else if (numero < mediana) {
          //bola verde #91D150
          bola.style.background =
            "radial-gradient( #91D150 25%, #00AF54 70%, #FDC100 40%)";
        } else if (numero < quartil3) {
          //bola verde escura #00AF54
          bola.style.background =
            "radial-gradient( #00AF54 35%, #FDC100 70%, #FE0001 45%)";
        } else if (numero < maximo) {
          //bola laranja #FDC100
          bola.style.background = "radial-gradient( #FDC100 35%, #FE0001 70%)";
        } else {
          //bola vermelha #FE0001
          bola.style.background = "radial-gradient( #FE0001 35%, #FDC100 70%)";
        }
        bola.style.width = "25px";
        bola.style.height = "25px";
        bola.style.borderRadius = "100%";
        bola.style.opacity = "0.9";
      }
    } else if (tipoGrafico == "diario") {
      calorDiario.style.display = "block";
      diario.style.display = "none";

      //numero aleatorio entre 6000000 e 19290000
      var minimo = 110000;
      var quartil1 = 280000;
      var media = 484090.9;
      var mediana = 400000;
      var quartil3 = 500000;
      var maximo = 1200000;

      for (var i = 1; i <= 17; i++) {
        var numero = Math.floor(Math.random() * (maximo - minimo + 1)) + minimo;

        var idBola = "bolinha" + i;
        var bola = document.getElementById(idBola);
        if (numero < quartil1) {
          //bola azul #9AC1E8
          bola.style.background =
            "radial-gradient( #9AC1E8 35%,  #FFFE00 80%, #91D150  40%)";
        } else if (numero < media) {
          //bola amarela #FFFE00
          bola.style.background =
            "radial-gradient( #FFFE00 25%, #91D150 70%, #FFFE00 40%)";
        } else if (numero < mediana) {
          //bola verde #91D150
          bola.style.background =
            "radial-gradient( #91D150 25%, #00AF54 70%, #FDC100 40%)";
        } else if (numero < quartil3) {
          //bola verde escura #00AF54
          bola.style.background =
            "radial-gradient( #00AF54 35%, #FDC100 70%, #FE0001 45%)";
        } else if (numero < maximo) {
          //bola laranja #FDC100
          bola.style.background = "radial-gradient( #FDC100 35%, #FE0001 70%)";
        } else {
          //bola vermelha #FE0001
          bola.style.background = "radial-gradient( #FE0001 35%, #FDC100 70%)";
        }

        bola.style.width = "25px";
        bola.style.height = "25px";
        bola.style.borderRadius = "100%";
        bola.style.opacity = "0.9";
      }
    } else if (tipoGrafico == "anual") {
      calorDiario.style.display = "block";
      anual.style.display = "none";

      //numero aleatorio entre 6000000 e 19290000
      var minimo = 1800000000;
      var quartil1 = 2000000000;
      var media = 2664545454.5;
      var mediana = 2460000000;
      var quartil3 = 3000000000;
      var maximo = 4500000000;

      for (var i = 1; i <= 17; i++) {
        var numero = Math.floor(Math.random() * (maximo - minimo + 1)) + minimo;

        var idBola = "bolinha" + i;
        var bola = document.getElementById(idBola);
        if (numero < quartil1) {
          //bola azul #9AC1E8
          bola.style.background =
            "radial-gradient( #9AC1E8 35%,  #FFFE00 80%, #91D150  40%)";
        } else if (numero < media) {
          //bola amarela #FFFE00
          bola.style.background =
            "radial-gradient( #FFFE00 25%, #91D150 70%, #FFFE00 40%)";
        } else if (numero < mediana) {
          //bola verde #91D150
          bola.style.background =
            "radial-gradient( #91D150 25%, #00AF54 70%, #FDC100 40%)";
        } else if (numero < quartil3) {
          //bola verde escura #00AF54
          bola.style.background =
            "radial-gradient( #00AF54 35%, #FDC100 70%, #FE0001 45%)";
        } else if (numero < maximo) {
          //bola laranja #FDC100
          bola.style.background = "radial-gradient( #FDC100 35%, #FE0001 70%)";
        } else {
          //bola vermelha #FE0001
          bola.style.background = "radial-gradient( #FE0001 35%, #FDC100 70%)";
        }

        bola.style.width = "25px";
        bola.style.height = "25px";
        bola.style.borderRadius = "100%";
        bola.style.opacity = "0.9";
      }
    } else if (tipoGrafico == "horario") {
      calorDiario.style.display = "block";
      horario.style.display = "none";

      //numero aleatorio entre 6000000 e 19290000
      var minimo = 10000;
      var quartil1 = 20000;
      var media = 39909.1;
      var mediana = 30000;
      var quartil3 = 60000;
      var maximo = 90000;

      for (var i = 1; i <= 17; i++) {
        var numero = Math.floor(Math.random() * (maximo - minimo + 1)) + minimo;

        var idBola = "bolinha" + i;
        var bola = document.getElementById(idBola);
        if (numero < quartil1) {
          //bola azul #9AC1E8
          bola.style.background =
            "radial-gradient( #9AC1E8 35%,  #FFFE00 80%, #91D150  40%)";
        } else if (numero < media) {
          //bola amarela #FFFE00
          bola.style.background =
            "radial-gradient( #FFFE00 25%, #91D150 70%, #FFFE00 40%)";
        } else if (numero < mediana) {
          //bola verde #91D150
          bola.style.background =
            "radial-gradient( #91D150 25%, #00AF54 70%, #FDC100 40%)";
        } else if (numero < quartil3) {
          //bola verde escura #00AF54
          bola.style.background =
            "radial-gradient( #00AF54 35%, #FDC100 70%, #FE0001 45%)";
        } else if (numero < maximo) {
          //bola laranja #FDC100
          bola.style.background = "radial-gradient( #FDC100 35%, #FE0001 70%)";
        } else {
          //bola vermelha #FE0001
          bola.style.background = "radial-gradient( #FE0001 35%, #FDC100 70%)";
        }

        bola.style.width = "25px";
        bola.style.height = "25px";
        bola.style.borderRadius = "100%";
        bola.style.opacity = "0.9";
      }
    } else {
      calorDiario.style.display = "block";
      mensal.style.display = "none";

      //numero aleatorio entre 6000000 e 19290000
      var minimo = 10000;
      var quartil1 = 20000;
      var media = 39909.1;
      var mediana = 30000;
      var quartil3 = 60000;
      var maximo = 90000;
      console.log("mensal");
      for (var i = 1; i <= 17; i++) {
        var numero = Math.floor(Math.random() * (maximo - minimo + 1)) + minimo;

        var idBola = "bolinha" + i;
        var bola = document.getElementById(idBola);
        if (numero < quartil1) {
          //bola azul #9AC1E8
          bola.style.background =
            "radial-gradient( #9AC1E8 35%,  #FFFE00 80%, #91D150  40%)";
        } else if (numero < media) {
          //bola amarela #FFFE00
          bola.style.background =
            "radial-gradient( #FFFE00 25%, #91D150 70%, #FFFE00 40%)";
        } else if (numero < mediana) {
          //bola verde #91D150
          bola.style.background =
            "radial-gradient( #91D150 25%, #00AF54 70%, #FDC100 40%)";
        } else if (numero < quartil3) {
          //bola verde escura #00AF54
          bola.style.background =
            "radial-gradient( #00AF54 35%, #FDC100 70%, #FE0001 45%)";
        } else if (numero < maximo) {
          //bola laranja #FDC100
          bola.style.background = "radial-gradient( #FDC100 35%, #FE0001 70%)";
        } else {
          //bola vermelha #FE0001
          bola.style.background = "radial-gradient( #FE0001 35%, #FDC100 70%)";
        }

        bola.style.width = "25px";
        bola.style.height = "25px";
        bola.style.borderRadius = "100%";
        bola.style.opacity = "0.9";
      }
    }
  }
</script>